<div class="page-header">
  <h1>{{dataset.title}} <small>{{dataset.description}}</small></h1>
</div>

<!-- <h4>index data</h4> -->
<!-- <p><strong>Index</strong> : {{dataset.index_name}}</p>
  <p><strong>type</strong> : {{dataset.type}}</p> -->

<div class="row">
  <form ng-submit="search()" role="form">

    <div class="col-md-6 searchField form-inline">
      <input ng-model="searchTerm" type="search" name="title" class="form-control"/>
      <button type="submit" class="btn btn-default">Get results</button>
      <p class="help-block">Use operators AND, OR and quotes for more precise queries <a href="http://lucene.apache.org/core/2_9_4/queryparsersyntax.html" target="_blank">[help]</a></p>
    </div>
    <div class="col-md-6 utils form-group" ng-hide="!messages.length">
      <label for="inputDesc">Description</label>
      <textarea id="inputDesc" ng-model="description" placeholder="What is this visualization about?" rows="3" class="form-control"></textarea>
      <div class="modal-footer">
        <button type="button" class="btn btn-default">Cancel</button>
        <a type="submit" ng-click="createMeme()" class="btn btn-primary">Visualize</a>
      </div>
    </div>
  </form>
</div>

<section class="results">
  <h3 ng-hide="messages.length" class="no-recipes">No results</h3>
  <article ng-hide="!messages.length" class="recipe">
    <h3>Total : {{ totalResults }} results<small> in {{ index }}</small></h3>

    <timeserie timeserie="" time-data="timeData" start="start" end="end" meme-name="searchTerm"></timeserie>

    <table ng-table show-filter="true" class="table table-condensed">
      <thead>
        <tr>
          <th ng-repeat="column in columns" class="text-center sortable" ng-class="{ 'sort-asc': tableParams.isSortBy(column.field, 'asc'), 'sort-desc': tableParams.isSortBy(column.field, 'desc') }" ng-click="tableParams.sorting(column.field, tableParams.isSortBy(column.field, 'asc') ? 'desc' : 'asc')">  {{column.field}}
          </th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="row in messages">
          <td ng-repeat="column in columns">
            {{row[column.field]}}
          </td>
        </tr>
      </tbody>
    </table>
    <div ng-cloak="" ng-hide="allResults" class="load-more"><a ng-click="loadMore()" class="btn btn-default">View more results...</a></div>
  </article>
</section>
